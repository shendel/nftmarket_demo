(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{56896:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(10304)}])},19893:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(26042),s=n(85893),a=n(44423),c=n(84095);function r(e){var t=(0,o.Z)({listedCount:0,userListedCount:0,notListedCount:!1,isLoading:!1,collectionInfo:!1,collectionMeta:!1,isMy:!1,isSell:!1},e),n=t.isLoading,r=t.address,i=t.collectionInfo,l=t.collectionMeta,d=t.listedCount,u=t.userListedCount,h=t.notListedCount,f=t.isSell,x=t.isMy;if(n)return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"w-full bg-gradient-to-r from-[#333] via-[#555] to-[#333] bg-cover animate-pulse max-h-full min-h-[12px] p-[2px] m-[2px]",style:{width:"335px",height:"262px",borderRadius:"inherit"}})});var m=(0,o.Z)({},i||{},l||{});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("article",{className:"relative flex flex-col group items-center hover:scale-[1.035] group transition-all duration-150",children:(0,s.jsxs)("a",{className:"flex flex-col group items-center",href:(0,a.R)("collection","".concat(r).concat(f?"/sell":x?"/my_listed":"")),children:[m&&m.image?(0,s.jsxs)("div",{className:"rounded-t-[6px] rounded-b-[15px]",style:{background:"#090013",position:"relative",width:"275px",height:"275px"},children:[(0,s.jsx)("div",{className:"w-full bg-gradient-to-r from-[#333] via-[#555] to-[#333] rounded-t-[6px] rounded-b-[15px] bg-cover animate-pulse max-h-full min-h-[12px] p-[2px] m-[2px]",style:{width:"275px",height:"270px",borderRadius:"inherit",position:"absolute"}}),(0,s.jsx)(c.Z,{src:m.image,alt:m&&m.name?"".concat(m.name," thumbnail"):"...",className:"z-10 w-[300px] h-[235px] object-cover rounded-t-[6px] rounded-b-[15px] group-hover:ring ring-indigo-200",style:{objectFit:"contain",width:"275px",height:"275px",position:"relative"},loadStyle:{width:"275px",height:"270px"}})]}):(0,s.jsx)("div",{className:"z-10 w-[300px] h-[275px] object-cover rounded-t-[6px] rounded-b-[15px] group-hover:ring ring-indigo-200",style:{border:"2px solid #FFFFFF",background:"#090013",lineHeight:"275px",textAlign:"center",verticalAlign:"middle"},children:(0,s.jsx)("span",{children:m&&m.symbol?(0,s.jsx)(s.Fragment,{children:m.symbol}):(0,s.jsx)(s.Fragment,{children:"Loading..."})})}),(0,s.jsxs)("div",{className:"-mt-3 border bg-gradient-to-br from-black via-slate-900 to-black border-yellow-200 group-hover:border-moon-gold shadow shadow-moon-white w-[300px] lg:w-[350px] h-[100px] flex flex-col items-center text-center rounded-md",children:[(0,s.jsx)("h6",{className:"mt-7 tracking-widest text-indigo-100 group-hover:text-white max-w-[250px] lg:max-w-[320px] text-center truncate",style:(0,o.Z)({},0!=h?{marginTop:"1em"}:{}),children:m&&m.name?(0,s.jsx)(s.Fragment,{children:m.name}):(0,s.jsx)(s.Fragment,{children:"..."})}),!1!==h&&(0,s.jsxs)("p",{className:"mt-[7px] text-sm flex items-center",children:[(0,s.jsx)("span",{className:"opacity-60",children:"Your not listed"}),(0,s.jsx)("span",{className:"ml-[14px] flex items-center gap-[6px]",children:h})]}),(0,s.jsxs)("p",{className:"mt-[7px] text-sm flex items-center",children:[!f&&!x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"opacity-60",children:"Listed"}),(0,s.jsx)("span",{className:"ml-[14px] flex items-center gap-[6px]",children:d})]}),(f||x)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"opacity-60",children:"Your listed"}),(0,s.jsx)("span",{className:"ml-[14px] flex items-center gap-[6px]",children:u})]})]})]})]})})})}},87198:function(e,t,n){"use strict";var o=n(26042),s=n(29815),a=n(78899),c=n(3283),r=n.n(c),i=n(99312),l=n(64262),d=n(81586),u=n(42304);t.Z=function(e){var t=(0,o.Z)({forAddress:!1},e),n=t.addressList,c=t.chainId,h=t.forAddress;return new Promise((function(e,t){var f=(0,l.T_)(c),x=a;if(f&&f.rpcUrls)try{var m=new(new(r())(f.rpcUrls[0]).eth.Contract)(i,l.Ce[c]),p=new d.vU(x),g=(0,o.Z)({owner:{func:"owner"},totalSupply:{func:"totalSupply"},maxSupply:{func:"MAX_SUPPLY"},name:{func:"name"},contractURI:{func:"contractURI "},hiddenMetadataUri:{func:"hiddenMetadataUri"},baseExtension:{func:"baseExtension"},zeroTokenURI:{func:"tokenURI",args:[0]},oneTokenURI:{func:"tokenURI",args:[1]},symbol:{func:"symbol"}},h?{balance:{func:"balanceOf",args:[h]}}:{}),v=[];n.forEach((function(e){Object.keys(g).forEach((function(t){v=(0,s.Z)(v).concat([(0,o.Z)({group:e,target:e,encoder:p,value:t},g[t])])}))})),(0,u.L)({multicall:m,calls:v}).then((function(t){n.forEach((function(e){!t[e].zeroTokenURI&&t[e].oneTokenURI&&(t[e].zeroTokenURI=t[e].oneTokenURI)})),!t.zeroTokenURI&&t.oneTokenURI&&(t.zeroTokenURI=t.oneTokenURI),e(t)})).catch((function(e){console.log(">>> Fail fetch many nft meta",e),t(e)}))}catch(w){t(w)}else t("NOT_SUPPORTED_CHAIN")}))}},10304:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var o=n(47568),s=n(14924),a=n(26042),c=n(69396),r=n(34051),i=n.n(r),l=n(85893),d=n(66089),u=n.n(d),h=n(12975),f=n(67294),x=n(54153),m=n(19902),p=n(33052),g=n(55111),v=n(19893),w=n(13533),j=n(30750),b=n(3283),_=n.n(b),k=n(99312),I=n(64262),Z=n(81586),C=n(42304),N=n(4248),U=function(e){var t=(0,a.Z)({},e),n=t.address,o=t.userAddress,s=t.chainId;return new Promise((function(e,t){var r=(0,I.T_)(s),i=j.Mt;if(r&&r.rpcUrls)try{var l=new(new(_())(r.rpcUrls[0]).eth.Contract)(k,I.Ce[s]),d=new Z.vU(i),u=new Z.vU(k);(0,C.O)({multicall:l,target:n,encoder:d,calls:{userOffers:{func:"getUserAuctions",args:[o]},timestamp:{func:"getCurrentBlockTimestamp",target:I.Ce[s],encoder:u}}}).then((function(t){e((0,c.Z)((0,a.Z)({chainId:s,address:n,userAddress:o},t),{userOffers:(0,N.Z)(t.userOffers)}))})).catch((function(e){console.log(">>> Fail fetch market bids",e),t(e)}))}catch(h){t(h)}else t("NOT_SUPPORTED_CHAIN")}))},y=n(828),R=function(e){var t=(0,a.Z)({},e),n=t.address,o=t.userAddress,s=t.chainId,c=t.offers;return new Promise((function(e,t){var a=(0,I.T_)(s),r=j.Mt;if(a&&a.rpcUrls)try{var i=new(new(_())(a.rpcUrls[0]).eth.Contract)(k,I.Ce[s]),l=new Z.vU(r),d=(new Z.vU(k),{});c.forEach((function(e){d["bid_".concat(e)]={func:"bids",args:[e,o]},d["high_".concat(e)]={func:"highestBidder",args:[e]}})),(0,C.O)({multicall:i,target:n,encoder:l,calls:d}).then((function(t){console.log(">>> User bids",t);var a={},c={};Object.keys(t).forEach((function(e){var n=(0,y.Z)(e.split("_"),2),o=n[0],s=n[1];"bid"==o&&(a[s]=t[e]),"high"==o&&(c[s]=t[e])})),e({chainId:s,address:n,userAddress:o,bids:a,high:c})})).catch((function(e){console.log(">>> Fail fetch market bids",e),t(e)}))}catch(u){t(u)}else t("NOT_SUPPORTED_CHAIN")}))},E=n(87198),T=n(54030),L=n(98765),F=n(98901),S=n(29223),O=function(e){var t=e.storageData,n=(e.storageData.isBaseConfigReady,e.isOwner,(0,f.useState)(null===t||void 0===t?void 0:t.marketplaceChainId)),r=n[0],d=n[1],j=(0,f.useState)(null===t||void 0===t?void 0:t.marketplaceContract),b=j[0],_=j[1],k=(0,S.Z)(r),Z=(k.isWalletConnecting,k.isConnected,k.address),C=(k.activeChainId,k.activeWeb3,k.connectWeb3,k.switchChainId,(0,f.useState)(!1)),y=C[0],O=C[1],A=(0,f.useState)(!1),P=(A[0],A[1]);(0,f.useEffect)((function(){r&&b&&(0,L.Z)({address:b,chainId:r,onlyInfo:!0,forAddress:Z}).then((function(e){O(e),le(e.timestamp),P(!0)})).catch((function(e){console.log(">>> fail fetch market info",e)}))}),[r,b,Z]);var M=(0,f.useState)(!1),z=M[0],W=M[1];(0,f.useEffect)((function(){y&&(console.log(">>> marketInfo.allowedERC20",y.allowedERC20),(0,w.Z)({erc20list:(0,N.Z)(y.allowedERC20).filter((function(e){return e!==I.r_})),chainId:r}).then((function(e){console.log(">>>> INFO ERC20",e,y.allowedERC20),W(e)})).catch((function(e){console.log(">> fail fetch allowedERC20 token info",e)})))}),[y]),(0,f.useEffect)((function(){t&&t.marketplaceChainId&&t.marketplaceContract&&(d(t.marketplaceChainId),_(t.marketplaceContract))}),[t]);var Y=(0,f.useState)({}),D=Y[0],B=Y[1],H=(0,f.useState)({}),G=H[0],X=H[1];(0,f.useEffect)((function(){if(Object.keys(D).length){var e=[];Object.keys(D).filter((function(e){return void 0===G[e]})).forEach((function(t){e.push(new Promise(function(){var e=(0,o.Z)(i().mark((function e(n){var o,r,l,d,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,l=!1,d=!1,!D[t].contractURI){e.next=13;break}return e.prev=5,e.next=8,(0,T.L)((0,h.W)(D[t].contractURI));case 8:r=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:if(!D[t].zeroTokenURI){e.next=22;break}return e.prev=14,e.next=17,(0,T.L)((0,h.W)(D[t].zeroTokenURI));case 17:l=e.sent,e.next=22;break;case 20:e.prev=20,e.t1=e.catch(14);case 22:if(r||l||!D[t].baseExtension||!D[t].hiddenMetadataUri){e.next=31;break}return e.prev=23,e.next=26,(0,T.L)((0,h.W)("".concat(D[t].hiddenMetadataUri,1).concat(D[t].baseExtension)));case 26:d=e.sent,e.next=31;break;case 29:e.prev=29,e.t2=e.catch(23);case 31:u={name:(null===r||void 0===r?void 0:r.name)||(null===l||void 0===l?void 0:l.name)||D[t].symbol||"-",description:(null===r||void 0===r?void 0:r.description)||(null===l||void 0===l?void 0:l.description)||D[t].name||"-",image:(null===r||void 0===r?void 0:r.image)||(null===l||void 0===l?void 0:l.image)||(null===d||void 0===d?void 0:d.image)||!1,totalSupply:(null===(o=D[t])||void 0===o?void 0:o.totalSupply)||0},X((function(e){return(0,c.Z)((0,a.Z)({},e),(0,s.Z)({},t,u))})),n(!0);case 34:case"end":return e.stop()}}),e,null,[[5,11],[14,20],[23,29]])})));return function(t){return e.apply(this,arguments)}}()))})),Promise.all(e).then((function(e){}))}}),[D]),(0,f.useEffect)((function(){y&&y.chainId&&(0,E.Z)({addressList:(0,N.Z)(y.nftCollections),chainId:y.chainId}).then((function(e){B((0,a.Z)({},D,e))})).catch((function(e){console.log(">> err",e)}))}),[y]);var q=(0,f.useState)(!1),J=q[0],K=q[1],Q=(0,f.useState)(!1),V=Q[0],$=Q[1],ee=(0,f.useState)(!1),te=ee[0],ne=ee[1],oe=(0,f.useState)(!1),se=oe[0],ae=oe[1],ce=(0,f.useState)(!1),re=(ce[0],ce[1],(0,f.useState)(!1)),ie=re[0],le=re[1];return(0,f.useEffect)((function(){Z?(K(!1),U({address:b,chainId:r,userAddress:Z}).then((function(e){console.log(">>> User auctions",e),$(e.userOffers),le(e.timestamp);var t=e.userOffers.map((function(e){return e.offerId}));console.log(">>>> User offers",t),R({address:b,chainId:r,userAddress:Z,offers:t}).then((function(e){var t=e.bids,n=e.high;ae(n),ne(t)})).catch((function(e){console.log(">>> Fail fetch user bids",e)}));var n=e.userOffers.map((function(e){return{address:e.collection,tokenId:e.tokenId}}));console.log(">>> tokensInfo",n),(0,F.Z)({chainId:r,tokensInfo:n}).then((function(e){K(e)})).catch((function(e){console.log(">>>> fail fetch tokens urls",e)}))})).catch((function(e){console.log("fail fetch user auctions",e)}))):($(!1),K(!1))}),[Z]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u(),{id:x.Z.__hash,children:x.Z}),(0,l.jsxs)("div",{className:"jsx-".concat(x.Z.__hash),children:[(0,l.jsx)(m.Z,(0,a.Z)({},e)),(0,l.jsx)("div",{className:"jsx-".concat(x.Z.__hash)+" pt-10 md:pt-12 lg:pt-16 xl:pt-20 m flex flex-col items-center w-full",children:(0,l.jsxs)("div",{className:"jsx-".concat(x.Z.__hash)+" flex flex-col items-center md:items-start",children:[!Z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"jsx-".concat(x.Z.__hash)+" font-GoodTimes tracking-wide flex items-center text-3xl lg:text-4xl bg-clip-text text-transparent bg-gradient-to-br from-moon-gold to-indigo-100",children:"Your listed NFTs"}),(0,l.jsx)("p",{className:"jsx-".concat(x.Z.__hash)+" text-center mt-10 lg:mt-12 opacity-80 text-lg md:text-left text-red-400 w-3/4",children:"Please connect your wallet"}),(0,l.jsx)("section",{className:"jsx-".concat(x.Z.__hash)+" mt-10 md:mt-16 flex flex-col gap-10 md:grid md:grid-cols-2 md:grid-flow-row md:gap-12 xl:grid-cols-3 xl:gap-14",children:(0,l.jsx)("article",{className:"jsx-".concat(x.Z.__hash)+" relative group overflow-hidden",children:(0,l.jsx)("div",{className:"jsx-".concat(x.Z.__hash)+" w-[335px] h-[275px] overflow-hidden"})})})]}),Z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"jsx-".concat(x.Z.__hash)+" font-GoodTimes tracking-wide flex items-center text-3xl lg:text-4xl bg-clip-text text-transparent bg-gradient-to-br from-moon-gold to-indigo-100",children:"Your auctions"}),V&&V.length>0?(0,l.jsx)("div",{style:{marginTop:"1rem",marginBottom:"2rem"},className:"jsx-".concat(x.Z.__hash)+" mt-20 md:mt-24 flex flex-col gap-10 md:grid md:grid-cols-2 md:grid-flow-row md:gap-12 xl:grid-cols-3 xl:gap-14",children:V.map((function(e,t){var n,o=e.tokenId,s=e.collection,a=e.offerId,c=e.seller,i=(null===(n=J["".concat(s,"_").concat(o)])||void 0===n?void 0:n.tokenURI)||!1,d=!1,u=!1,h=!0;return se&&se[a]&&se[a].toLowerCase()==Z.toLowerCase()&&te&&te[a]&&"0"!=te[a]&&(d=!0),se&&se[a]&&se[a].toLowerCase()!=Z.toLowerCase()&&te&&te[a]&&"0"!=te[a]&&(u=!0),se&&se[a].toLowerCase()==Z.toLowerCase()&&(h=!0),(0,l.jsx)("div",{className:"jsx-".concat(x.Z.__hash),children:(0,l.jsx)(g.Z,{mediaUrl:i,collection:s,tokenId:o,tokenInfo:e,chainId:r,isDeList:Z.toLowerCase()==c.toLowerCase(),userAddress:Z,blockchainUtx:ie,wonCollect:d,loseCollect:u,isWinner:h,allowedERC20Info:z})},t)}))}):(0,l.jsx)("p",{style:{paddingBottom:"2rem"},className:"jsx-".concat(x.Z.__hash)+" mt-[14px] lg:mt-6 text-xl opacity-80",children:"You have no active or completed auctions."}),(0,l.jsx)("h2",{className:"jsx-".concat(x.Z.__hash)+" font-GoodTimes tracking-wide flex items-center text-3xl lg:text-4xl bg-clip-text text-transparent bg-gradient-to-br from-moon-gold to-indigo-100",children:"Your listed NFTs"}),(0,l.jsx)("p",{className:"jsx-".concat(x.Z.__hash)+" mt-[14px] lg:mt-6 text-xl opacity-80",children:"Pick from a collection"}),(0,l.jsxs)("section",{className:"jsx-".concat(x.Z.__hash)+" mt-10 md:mt-16 flex flex-col gap-10 md:grid md:grid-cols-2 md:grid-flow-row md:gap-12 xl:grid-cols-3 xl:gap-14",children:[y&&y.nftCollections&&(0,l.jsx)(l.Fragment,{children:(0,N.Z)(y.nftCollections).map((function(e){return(0,l.jsx)(v.Z,{address:e,isLoading:void 0===D[e],collectionInfo:D[e]||!1,collectionMeta:G[e]||!1,userListedCount:y.userCollectionListed?y.userCollectionListed[e]:0,isMy:!0},e)}))}),(0,l.jsx)("article",{className:"jsx-".concat(x.Z.__hash)+" relative group overflow-hidden",children:(0,l.jsx)("div",{className:"jsx-".concat(x.Z.__hash)+" w-[335px] h-[275px] overflow-hidden"})})]})]})]})}),(0,l.jsx)(p.Z,(0,a.Z)({},e))]})]})}}},function(e){e.O(0,[976,697,991,100,303,118,774,888,179],(function(){return t=56896,e(e.s=t);var t}));var t=e.O();_N_E=t}]);