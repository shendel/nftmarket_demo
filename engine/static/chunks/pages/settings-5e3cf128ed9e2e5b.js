(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{52837:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(33410)}])},53419:function(e,n,t){"use strict";t.d(n,{A:function(){return c}});var s=t(47568),a=t(29815),i=t(34051),o=t.n(i),r=t(44431),c=function(){var e=(0,s.Z)(o().mark((function e(n,t,s,i,c){var l,d,u,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={from:n,gas:"0"},c&&(d.value=new r.BigNumber(c)),e.next=5,(l=t.methods)[s].apply(l,(0,a.Z)(i)).estimateGas(d);case 5:return u=e.sent,f=new r.BigNumber(new r.BigNumber(u).multipliedBy(1.15).toFixed(0)).toString(16),d.gas="0x"+f,e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)})));return function(n,t,s,a,i){return e.apply(this,arguments)}}()},36860:function(e,n,t){"use strict";var s=t(47568),a=t(29815),i=t(34051),o=t.n(i),r=t(30750),c=t(53419);n.Z=function(e){return new Promise((function(n,t){var i=e.activeWeb3,l=e.contractAddress,d=e.method,u=e.args,f=e.weiAmount,m=e.onTrx||function(){},x=e.onSuccess||function(){},b=e.onError||function(){},h=e.onFinally||function(){};i.eth.getAccounts().then(function(){var e=(0,s.Z)(o().mark((function e(s){var g,j,v,p,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>0)){e.next=16;break}return j=s[0],v=new i.eth.Contract(r.Mt,l),console.log(">> amount",f),e.next=7,(0,c.A)(j,v,d,u||[],f);case 7:return p=e.sent,e.next=10,i.eth.getGasPrice();case 10:k=e.sent,p.gasPrice=k,console.log(">> amount 2",f,p),(g=v.methods)[d].apply(g,(0,a.Z)(u||[])).send(p).on("transactionHash",(function(e){console.log("transaction hash:",e),m(e)})).on("error",(function(e){console.log("transaction error:",e),b(e),t(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),x(e)})).then((function(e){n(e),h(e)})),e.next=17;break;case 16:t("NO_ACTIVE_ACCOUNT");case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(">>> callMPMethod",e),t(e)}))}))}},33410:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return fe}});var s=t(47568),a=t(26042),i=t(34051),o=t.n(i),r=t(85893),c=t(214),l=t.n(c),d=t(69396),u=t(44423),f=t(54165),m=t(34617),x=t(11163),b=function(e){(0,x.useRouter)();var n=(0,m.Z)(),t=n.storageMenu,s=n.isOwner,i=n.isInstalled,o=n.storageIsLoading,c=t&&t.length?t:f.pW;return o?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("nav",{className:"".concat(l().mainNav," headerNavMenu"),children:[c.map((function(n,t){var s=""!==n.target&&e==f.x0[n.target],i=""!==n.target?(0,u.R)(f.x0[n.target]):n.link;return(0,r.jsx)("a",(0,d.Z)((0,a.Z)({className:s?"".concat(l().active," headerNavActive"):"",href:i},n.blank?{target:"_blank"}:{}),{children:n.title}),t)})),(s||!i)&&(0,r.jsx)("a",{href:(0,u.R)("settings"),className:"settings"==e?"".concat(l().active," headerNavActive"):"",children:"Settings"})]}),(0,r.jsx)("div",{className:l().mainNavSeperator})]})},h=t(14924),g=t(67294),j=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.notEmpty,s=!1;t&&""===e&&(s=!0);var a=(0,g.useState)(e),i=a[0],o=a[1],r=(0,g.useState)(s),c=r[0],l=r[1],d=function(e){var n=e;(null===e||void 0===e?void 0:e.target)&&(n=e.target.value),l(!(!t||""!==n)),o(n)};return[i,d,c,l]},v=j,p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.notZero,s=function(e){var n=!1;try{var s=parseInt(e);s>=0?t&&0==s&&(n=!0):n=!0}catch(a){n=!0}return n},a=s(e),i=(0,g.useState)(e),o=i[0],r=i[1],c=(0,g.useState)(a),l=c[0],d=c[1],u=function(e){var n=e;(null===e||void 0===e?void 0:e.target)&&(n=e.target.value),d(s(n)),r(n)};return[o,u,l,d]},k=t(25364),N=t(73848),w=t(110);function C(e){var n=(0,a.Z)({onToggle:function(){}},e),t=n.title,s=n.isOpened,i=n.content,o=n.onToggle,c=n.key;return(0,r.jsxs)("div",{className:"".concat(l().adminToggleGroup," ").concat(s?l().adminToggleGroupOpened:""),children:[(0,r.jsxs)("div",{className:l().adminToggleGroupHeader,onClick:function(){o(!s)},children:[(0,r.jsx)("h3",{children:t}),(0,r.jsx)("a",{children:(0,r.jsx)(w.Z,{icon:s?"arrow-up":"arrow-down"})})]}),s&&(0,r.jsx)("div",{className:l().adminToggleGroupContent,children:i})]},c)}var y=t(66089),S=t.n(y);function T(e){var n=(0,a.Z)({href:"",title:"",disabled:!1,icon:"up-right-from-square",onClick:function(){}},e),t=n.href,s=n.title,i=n.icon,o=n.onClick,c=n.target,u=n.disabled,f={className:"".concat(l().iconButton," ").concat(u?"disabled":""),alt:s,title:s};return t&&!u&&(f.href=t),c&&(f.target=c),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S(),{id:"f5e7176fd093e7f6",children:".disabled.jsx-f5e7176fd093e7f6{background:#414141;color:#888484}"}),(0,r.jsx)("a",(0,d.Z)((0,a.Z)({},f),{onClick:u?function(){}:o,className:"jsx-f5e7176fd093e7f6 "+(f&&null!=f.className&&f.className||""),children:(0,r.jsx)(w.Z,{icon:i})}))]})}var F=t(52484),E=t(82670),B=t(78967),R=t(64262);function I(e){var n=e.title,t=e.isOpened,s=e.children;return t?(0,r.jsx)("div",{className:l().adminPopupWindow,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:n}),s]})}):null}function Z(e){var n=(0,a.Z)({disabled:!1,chainId:1,className:"",action:"Save",onClick:function(){}},e),t=n.children,s=n.disabled,i=n.onClick,o=n.chainId,c=n.action,d=n.className,u=n.icon,f=(0,g.useState)(!1),x=f[0],b=f[1],h=(0,m.n)().storageChainId,j="STORAGE"==o?h:o,v=(0,g.useState)(!1),p=v[0],k=v[1],N=(0,B.BV)(),C=(0,E.Z)(j,Array),y=!C&&(0,R.T_)(j),T=!1;T=C?-1!==j.indexOf(Number("".concat(N))):"".concat(j)=="".concat(N);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{disabled:s||p||void 0===j,onClick:function(){T?i():C?b(!0):(k(!0),(0,B.M5)(j).then((function(e){k(!1),e&&(0,B.Ju)(j).then((function(){window.setTimeout((function(){i()}),1e3)}))})).catch((function(e){k(!1)})))},className:d,children:[u&&(0,r.jsx)(w.Z,{icon:u}),T?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(r.Fragment,{children:p?(0,r.jsx)(r.Fragment,{children:C?"Switching...":"Switching to ".concat(y.chainName," (").concat(j,")...")}):(0,r.jsx)(r.Fragment,{children:C?"Switch network for ".concat(c):void 0===j?"Select blockchain first":"Switch to ".concat(y.chainName," (").concat(j,") for ").concat(c)})})]}),C&&(0,r.jsxs)(I,{hasClose:!0,isOpened:x,onClose:function(){b(!1)},title:"Switch network for ".concat(c),children:[(0,r.jsx)(S(),{id:"4d48721f3162f416",children:".switchNetworkList.jsx-4d48721f3162f416{padding:10px;padding-bottom:0px}.switchNetworkList.jsx-4d48721f3162f416 BUTTON.jsx-4d48721f3162f416{margin-left:0px;width:100%;margin-bottom:10px}"}),(0,r.jsx)("div",{className:"jsx-4d48721f3162f416 switchNetworkList",children:j.map((function(e){var n=(0,R.T_)(e);return(0,r.jsx)("button",{disabled:p,onClick:function(){!function(e){k(!0),(0,B.M5)(e).then((function(n){k(!1),n&&(b(!1),(0,B.Ju)(e).then((function(){window.setTimeout((function(){i()}),1e3)})))})).catch((function(e){k(!1)}))}(e)},className:"jsx-4d48721f3162f416 "+(l().adminButton||""),children:p?"Switching...":void 0===e?"Select blockchain first":"Switch to ".concat(n.chainName," (").concat(e,")")},e)}))})]})]})}var A=[{title:"Main settings",key:"mainSettings",items:[{type:"uri",title:"Logo uri (Desctop)",target:"logoUriDesctop"},{type:"uri",title:"Logo uri (Mobile)",target:"logoUriMobile"},{type:"uri",title:"Footer logo uri",target:"logoFooterUri"},{type:"number",title:"Logo max width",target:"logoMaxWidth",unit:"px"}]}];function M(e){e.setDoReloadStorage,e.saveStorageConfig;var n=e.openConfirmWindow,t=e.addNotify,s=(e.getActiveChain,e.saveExStorageConfig),i=e.storageDesign,o=localStorage.getItem("-nft-stake-preview-mode"),c=localStorage.getItem("-nft-stake-preview-design");try{c=JSON.parse(c),c=(0,a.Z)({},k.$,c)}catch(W){c=k.$}var u=(0,g.useState)(null!==o),f=u[0],m=u[1],x=(0,a.Z)({},k.$,i),b=(0,g.useState)(o?c:x),j=b[0],v=b[1],p=(0,g.useState)(!1),w=(p[0],p[1],function(e){var n=e.title,t=e.target;return(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsxs)("label",{children:[n,":"]}),(0,r.jsx)("span",{children:(0,r.jsx)("div",{children:(0,r.jsx)(F.ZP,{initialValue:j[t],onChange:function(e){v((function(n){return(0,d.Z)((0,a.Z)({},n),(0,h.Z)({},"".concat(t),e.hex))}))},placement:"right"})})})]})}),y=function(e){var n=e.title,t=e.target,s=e.placeholder;return(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsxs)("label",{children:[n,":"]}),(0,r.jsx)("span",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{placeholder:s,type:"text",value:j[t],onChange:function(e){var n;n=e.target.value,v((function(e){return(0,d.Z)((0,a.Z)({},e),(0,h.Z)({},"".concat(t),n))}))}}),T({title:"Open in new tab",href:j[t],target:"_blank"})]})})]})},S=function(e){var n=e.title,t=e.target,s=e.unit;return(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsxs)("label",{children:[n,":"]}),(0,r.jsx)("span",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"number",value:j[t],onChange:function(e){var n;n=e.target.value,v((function(e){return(0,d.Z)((0,a.Z)({},e),(0,h.Z)({},"".concat(t),n))}))}}),(0,r.jsx)("strong",{children:s})]})})]})},E=function(){n({title:"Switch to preview mode",message:"Switch to preview mode? You can look changes before save",onConfirm:function(){t("Preview mode on. Go to site for check it","success"),localStorage.setItem("-nft-stake-preview-mode",!0),localStorage.setItem("-nft-stake-preview-design",JSON.stringify(j)),m(!0)}})},B=function(){t("Preview mode turn off","success"),localStorage.removeItem("-nft-stake-preview-mode"),localStorage.removeItem("-nft-stake-preview-design"),m(!1)};(0,g.useEffect)((function(){f&&(localStorage.setItem("-nft-stake-preview-design",JSON.stringify(j)),localStorage.setItem("-nft-stake-preview-utx",(0,N.K)()))}),[j]);var R=(0,g.useState)(!1),I=R[0],M=R[1],D=function(){s({onBegin:function(){t("Confirm transaction for save changed texts")},onReady:function(){t("Texts successfull saved","success")},onError:function(e){t("Fail save texts","error")},key:"design",data:{design:j}})},P=(0,g.useState)({}),L=P[0],O=P[1],_=function(e){O((function(n){return(0,d.Z)((0,a.Z)({},n),(0,h.Z)({},"".concat(e),!n[e]||!n[e]))}))};return{render:function(){return(0,r.jsx)("div",{className:l().adminForm,children:(0,r.jsxs)("div",{className:l().subFormInfo,children:[(0,r.jsx)("div",{className:l().actionsRow,children:f?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{className:l().adminButton,onClick:B,children:"Turn off preview mode"})}):(0,r.jsx)("button",{className:l().adminButton,onClick:E,children:"Turn on preview mode"})}),A.map((function(e){return C({key:e.key,title:e.title,isOpened:L[e.key],onToggle:function(){_(e.key)},content:(0,r.jsxs)(r.Fragment,{children:[e.items.map((function(e,n){switch(e.type){case"uri":return(0,r.jsx)("div",{children:y(e)},n);case"color":return(0,r.jsx)("div",{children:w(e)},n);case"number":return(0,r.jsx)("div",{children:S(e)},n);case"hr":return(0,r.jsx)("div",{children:(0,r.jsx)("hr",{})},n);case"subgroup":return(0,r.jsx)("div",{children:(0,r.jsx)("h5",{children:e.title})},n);default:return(0,r.jsxs)("div",{children:["Unknown ",e.type]},n)}})),(0,r.jsxs)("div",{className:l().actionsRow,children:[(0,r.jsx)("hr",{}),(0,r.jsx)(Z,{chainId:"STORAGE",className:l().adminButton,disabled:I,onClick:function(){!function(e){if(!I){var a=A.find((function(n){return n.key==e}));n({title:"Saving changes",message:'Save design changes of section "'.concat(a.title,'"?'),onConfirm:function(){var n={};a.items.forEach((function(e){"".concat(j[e.target]).toLowerCase()!="".concat(k.$[e.target]).toLowerCase()&&(n[e.target]=j[e.target])})),M(!0),s({key:"design_".concat(e),data:n,onBegin:function(){t("Confirm transaction for save changes")},onReady:function(){t("Changes successfull saved","success"),M(!1)},onError:function(e){t("Fail save changes","error"),M(!1)}})}})}}(e.key)},action:"Save section changes",children:I?"Saving design changes":"Save design section changes"})]})]})})}))]})})},render2:function(){return(0,r.jsx)("div",{className:l().adminForm,children:(0,r.jsxs)("div",{className:l().subFormInfo,children:[C({title:"Footer",isOpened:null===L||void 0===L?void 0:L.footer,onToggle:function(){_("footer")},content:(0,r.jsxs)(r.Fragment,{children:[w({title:"Top line color",target:"footerTopLineColor"}),S({title:"Top line size",target:"footerTopLineSize"}),w({title:"Background color",target:"footerBgColor"}),w({title:"Text color",target:"footerTextColor"}),w({title:"Link color",target:"footerLinkColor"}),w({title:"Link color (hover)",target:"footerLinkHoverColor"})]})}),C({title:"Main page",isOpened:null===L||void 0===L?void 0:L.mainPage,onToggle:function(){_("mainPage")},content:(0,r.jsxs)(r.Fragment,{children:[w({title:"After title text color",target:"mainPageTextAfterTitleColor"}),(0,r.jsx)("h5",{children:"Main page sections"}),w({title:"Background color",target:"mainPageSectionBackground"}),w({title:"Border color",target:"mainPageSectionBorderColor"}),w({title:"Title color",target:"mainPageSectionTitleColor"}),w({title:"Descripton color",target:"mainPageSectionDescColor"}),(0,r.jsx)("hr",{}),w({title:"After sections text color",target:"mainPageTextAfterSectionsColor"})]})}),C({title:"NFT Token design",isOpened:null===L||void 0===L?void 0:L.nftToken,onToggle:function(){_("nftToken")},content:(0,r.jsxs)(r.Fragment,{children:[w({title:"Background color",target:"nftBackgroundColor"}),w({title:"Border color",target:"nftBorderColor"}),w({title:"TokenId color",target:"nftIdColor"}),S({title:"Border radius",target:"nftBorderRadius",unit:"px"}),S({title:"Border size",target:"nftBorderSize",unit:"px"}),S({title:"Image max-height",target:"nftMaxHeight",unit:"px"})]})}),C({title:"Mint page",isOpened:null===L||void 0===L?void 0:L.mintPage,onToggle:function(){_("mintPage")},content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{children:"Connect wallet section"}),w({title:"Color of text before connect wallet button",target:"mintBeforeConnectColor"}),w({title:"Color of text after connect wallet button",target:"mintAfterConnectColor"}),(0,r.jsx)("h5",{children:"Main section"}),w({title:'Color of subtitle "Mint NFT"',target:"mintPageSubTitleColor"}),w({title:"Color of text before price",target:"mintPageBeforePriceColor"}),w({title:"Color of mint price",target:"mintPagePriceColor"}),w({title:"Color of text after price",target:"mintPageAfterPriceColor"})]})}),C({title:"Stake page",isOpened:null===L||void 0===L?void 0:L.stakePage,onToggle:function(){_("stakePage")},content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{children:"Connect wallet section"}),w({title:"Color of text before connect wallet button",target:"stakeBeforeConnectColor"}),w({title:"Color of text after connect wallet button",target:"stakeAfterConnectColor"}),w({title:"Connected wallet label color",target:"stakeConnectWalletColor"}),(0,r.jsx)("h5",{children:"Reward section and bank section"}),w({title:"Color of text before label",target:"stakeBeforeYourRewardColor"}),w({title:'"Your reward" label color',target:"stakeYourRewardColor"}),w({title:"Color of text after label",target:"stakeAfterYourRewardColor"}),(0,r.jsx)("hr",{}),w({title:"Background color",target:"stakeRewardBackground"}),w({title:"Title color",target:"stakeRewardTitleColor"}),w({title:"Amount color",target:"stakeRewardAmountColor"}),w({title:"Border color",target:"stakeRewardBorderColor"}),S({title:"Border size",target:"stakeRewardBorderSize",unit:"px"}),S({title:"Border radius",target:"stakeRewardBorderRadius",unit:"px"}),(0,r.jsx)("h5",{children:"Stake and unstake section"}),w({title:'"Your staked NFTs" color',target:"stakeYourStakedColor"}),w({title:'Color of text after "Your staked NFTs"',target:"stakeYourStakedDescColor"}),w({title:'"Your Unstaked NFTs" color',target:"stakeYourUnstakedColor"}),w({title:'Color of text after "Your Unstaked NFTs"',target:"stakeYourUnstakedDescColor"})]})}),(0,r.jsxs)("div",{className:l().actionsRow,children:[f?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{onClick:B,children:"Turn off preview mode"})}):(0,r.jsx)("button",{onClick:E,children:"Turn on preview mode"}),(0,r.jsx)("button",{onClick:D,children:"Save changes"})]})]})})}}}var D=t(37826);function P(e){e.setDoReloadStorage,e.saveStorageConfig;var n=e.openConfirmWindow,t=e.addNotify,s=(e.getActiveChain,e.storageTexts),i=e.saveExStorageConfig,o=(0,g.useState)(s),c=o[0],u=o[1],f=(0,g.useState)(!1),m=(f[0],f[1],localStorage.getItem("-nft-stake-preview-text-mode")),x=localStorage.getItem("-nft-stake-preview-texts");try{x=JSON.parse(x),x=(0,a.Z)({},s,x)}catch(I){x=s}var b=(0,g.useState)(null!==m),j=b[0],v=b[1],p=function(){n({title:"Switch to preview mode",message:"Switch to preview mode? You can look changes before save",onConfirm:function(){t("Preview mode on. Go to site for check it","success"),localStorage.setItem("-nft-stake-preview-text-mode",!0),localStorage.setItem("-nft-stake-preview-texts",JSON.stringify(c)),v(!0)}})},k=function(){t("Preview mode turn off","success"),localStorage.removeItem("-nft-stake-preview-text-mode"),localStorage.removeItem("-nft-stake-preview-texts"),v(!1)};(0,g.useEffect)((function(){j&&(localStorage.setItem("-nft-stake-preview-texts",JSON.stringify(c)),localStorage.setItem("-nft-stake-preview-texts-utx",(0,N.K)()))}),[c]);var w=function(e,n){u((function(t){return(0,d.Z)((0,a.Z)({},t),(0,h.Z)({},"".concat(e),n))}))},y=function(e){var n=e.code,t=e.desc,s=(e.value,e.defValue),a=e.multiline,i=e.multilineView,o=e.markdown;return(0,r.jsxs)("div",{className:l().adminStorageTextArea,children:[(0,r.jsxs)("label",{children:[t," (",n,") ",o&&(0,r.jsx)("b",{children:"(MarkDown)"})," ",a&&(0,r.jsx)("b",{children:"(Multiline)"})]}),a||i?(0,r.jsx)("textarea",{value:void 0!==c[n]?c[n]:s,onChange:function(e){w(n,e.target.value)}}):(0,r.jsx)("input",{type:"text",value:void 0!==c[n]?c[n]:s,onChange:function(e){w(n,e.target.value)}})]})},S=(0,g.useState)({}),T=S[0],F=S[1],E=(0,g.useState)(!1),B=E[0],R=E[1];return{render:function(){return(0,r.jsxs)("div",{className:l().adminForm,children:[(0,r.jsx)("div",{className:l().actionsRow,children:j?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{className:l().adminButton,onClick:k,children:"Turn off preview mode"})}):(0,r.jsx)("button",{className:l().adminButton,onClick:p,children:"Turn on preview mode"})}),(0,r.jsx)("br",{}),Object.keys(D.D).map((function(e){return C({title:D.D[e].title,isOpened:T[D.D[e].key],onToggle:function(){!function(e){F((function(n){return(0,d.Z)((0,a.Z)({},n),(0,h.Z)({},"".concat(e),void 0===T[e]||!T[e]))}))}(D.D[e].key)},key:D.D[e].key,content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:l().adminFormTextGroup,children:D.D[e].items.map((function(e,n){var t=e.code,s=e.desc,a=e.value,i=e.multiline,o=e.markdown,c=e.multilineView;return(0,r.jsx)("div",{children:y({code:t,desc:s,defValue:a,multiline:i,multilineView:c,markdown:o})},n)}))}),(0,r.jsxs)("div",{className:l().actionsRow,children:[(0,r.jsx)("hr",{}),(0,r.jsx)(Z,{chainId:"STORAGE",className:l().adminButton,disabled:B,onClick:function(){!function(e){var s={},a=D.D.find((function(n){return n.key==e}));n({title:"Saving changes",message:'Save texts changes of section "'.concat(a.title,'"?'),onConfirm:function(){a.items.forEach((function(e){c[e.code]&&e.value!==c[e.code]&&(s[e.code]=c[e.code])})),console.log(e,a,s),R(!0),i({key:"texts_".concat(e),data:s,onBegin:function(){t("Confirm transaction for save changes")},onReady:function(){t("Changes successfull saved","success"),R(!1)},onError:function(e){t("Fail save changes","error"),R(!1)}})}})}(D.D[e].key)},action:"Save section changes",children:B?"Saving texts changes":"Save texts section changes"})]})]})})}))]})}}}var L=t(828),O=t(29815),_=t(99603),W=t(59417);function U(e,n){return(0,r.jsx)("a",{className:l().openInNewTab,href:e,target:"_blank",alt:n,title:n,children:(0,r.jsx)(_.G,{icon:W.faUpRightFromSquare})})}function V(e){var n=e.addNotify,t=e.openConfirmWindow,s=e.storageMenu,a=e.saveStorageConfig,i=(0,g.useState)(s&&s.length?s:f.pW),o=i[0],c=i[1],d=(0,g.useState)(!1),u=d[0],m=d[1],x=(0,g.useState)(0),b=x[0],h=x[1],v=(0,L.Z)(j("",{notEmpty:!0}),4),p=v[0],k=v[1],N=v[2],C=(v[3],(0,g.useState)("")),y=C[0],F=C[1],E=(0,L.Z)(j("",{notEmpty:!0}),4),B=E[0],R=E[1],Z=E[2],A=(E[3],(0,g.useState)(!1)),M=A[0],D=A[1],P=(0,g.useState)(!1),_=P[0],W=P[1],V=function(){W(!1)},Y=function(){k(""),F(""),R(""),D(!1),m(!1),W(!0)},G=function(){if(N)return n("Title is required","error");if(""==y&&Z)return n("Href is required","error");var e={title:p,target:y,link:B,blank:M};u?(W(!1),n("Menu item changed","success"),c((function(n){return n[b]=e,(0,O.Z)(n)}))):(W(!1),n("New menu item added","success"),c((function(n){return(0,O.Z)(n).concat([e])})))},z=(0,g.useState)(!1),H=z[0],J=z[1],q=function(){t({title:"Save menu items",message:"Save changes to storage config?",onConfirm:function(){J(!0),a({onBegin:function(){n("Confirm transaction for save changed menu items")},onReady:function(){n("Menu items successfull saved","success"),J(!1)},onError:function(e){n("Fail save menu items","error"),J(!1)},newData:{menu:o}})}})};return{render:function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b tab-menu-items",children:[(0,r.jsx)(S(),{id:"b83f427d8620324b",children:'.tab-menu-items.jsx-b83f427d8620324b{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b{width:100%;border:1px solid#fff;margin-bottom:10px;border-spacing:0px;border-right:0px;border-bottom:0px}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b THEAD.jsx-b83f427d8620324b TR.jsx-b83f427d8620324b{background:#0b469f}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b{padding:4px;border-bottom:1px solid#fff;border-right:1px solid#fff}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b{text-align:left}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TR.jsx-b83f427d8620324b{border-bottom:1px solid red}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b{vertical-align:top}.tab-menu-items.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b SELECT.jsx-b83f427d8620324b,.tab-menu-items.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b INPUT[type="text"].jsx-b83f427d8620324b{display:block;width:100%}.tab-menu-items.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b LABEL.jsx-b83f427d8620324b{display:block}.tab-menu-items.jsx-b83f427d8620324b TD.options.jsx-b83f427d8620324b{white-space:nowrap}.tab-menu-items.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b{width:100%}.tab-menu-items.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b:first-child{width:30%}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TD.empty.jsx-b83f427d8620324b{text-align:center;font-weight:bold}'}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().adminForm||""),children:[(0,r.jsxs)("table",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("thead",{className:"jsx-b83f427d8620324b",children:(0,r.jsxs)("tr",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:"Title"}),(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:"Link"}),(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:"Options"})]})}),(0,r.jsx)("tbody",{className:"jsx-b83f427d8620324b",children:o.length>0?o.map((function(e,s){var a=e.title,i=e.target,l=e.link,d=e.blank;return(0,r.jsxs)("tr",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b",children:a})}),(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b",children:""==i?(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsx)(r.Fragment,{children:"[NEW TAB]\xa0"}),l,U(l,l)]}):(0,r.jsx)(r.Fragment,{children:"[".concat(i," PAGE]")})})}),(0,r.jsxs)("td",{className:"jsx-b83f427d8620324b options",children:[T({title:"Move item up",icon:"arrow-up",onClick:function(){var e;(e=s)>0&&c((function(n){var t=n[e-1];return n[e-1]=n[e],n[e]=t,(0,O.Z)(n)}))}}),T({title:"Move item down",icon:"arrow-down",onClick:function(){var e;(e=s)<o.length-1&&c((function(n){var t=n[e+1];return n[e+1]=n[e],n[e]=t,(0,O.Z)(n)}))}}),T({title:"Edit menu item",icon:"edit",onClick:function(){!function(e){var n=o[e],t=n.title,s=n.target,a=n.link,i=n.blank;h(e),k(t),F(s),R(a),D(i),m(!0),W(!0)}(s)}}),T({title:"Remove menu item",icon:"trash",onClick:function(){var e;e=s,t({title:"Removing menu item",message:"Remove this menu item?",onConfirm:function(){n("Menu item removed","success"),c((function(n){return n.splice(e,1),(0,O.Z)(n)}))}})}})]})]},s)})):(0,r.jsx)("tr",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("td",{colSpan:"3",className:"jsx-b83f427d8620324b empty",children:"No menu items"})})})]}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b "+(l().actionsRow||""),children:(0,r.jsxs)("a",{onClick:Y,className:"jsx-b83f427d8620324b "+(l().buttonWithIcon||""),children:[(0,r.jsx)(w.Z,{icon:"add"}),"Add new menu item"]})})]}),(0,r.jsx)(I,{title:u?"Edit menu item":"Add new menu item",isOpened:_,children:(0,r.jsx)("div",{className:"jsx-b83f427d8620324b "+(l().adminForm||""),children:(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().subFormInfo||""),children:[(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b",children:"Title:"}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b",children:[N&&(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b "+(l().hasError||""),children:"The field is required"})}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("input",{value:p,onChange:function(e){k(e)},type:"text",className:"jsx-b83f427d8620324b"})})]})]}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b",children:"Target:"}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsxs)("select",{value:y,onChange:function(e){F(e.target.value)},className:"jsx-b83f427d8620324b",children:[Object.keys(f.x0).map((function(e){return(0,r.jsx)("option",{value:e,className:"jsx-b83f427d8620324b",children:"[".concat(e," PAGE]")},e)})),(0,r.jsx)("option",{value:"",className:"jsx-b83f427d8620324b",children:"Custom link"})]})})]}),""==y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b",children:"Href (URL):"}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b",children:[Z&&(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b "+(l().hasError||""),children:"The field is required"})}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("input",{type:"text",value:B,onChange:function(e){R(e)},className:"jsx-b83f427d8620324b"})})]})]}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b"}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsxs)("label",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("input",{type:"checkbox",checked:M,onChange:function(e){D(!M)},className:"jsx-b83f427d8620324b"}),(0,r.jsx)("span",{className:"jsx-b83f427d8620324b",children:"Open in new tab"})]})})})]})]}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().actionsRow||""),children:[(0,r.jsx)("button",{onClick:G,className:"jsx-b83f427d8620324b",children:u?"Edit":"Add"}),(0,r.jsx)("button",{onClick:V,className:"jsx-b83f427d8620324b",children:"Cancel"})]})]})})})]}),(0,r.jsx)("div",{className:l().adminFormBottom,children:(0,r.jsx)("button",{disabled:H,className:"".concat(l().mainButton," primaryButton"),onClick:q,children:H?"Saving changes...":"Save changes"})})]})}}}function Y(e){var n=e.addNotify,t=e.openConfirmWindow,s=e.storageFooterMenu,a=e.saveStorageConfig,i=(0,g.useState)(s&&s.length?s:f.xF),o=i[0],c=i[1],d=(0,g.useState)(!1),u=d[0],m=d[1],x=(0,g.useState)(0),b=x[0],h=x[1],v=(0,L.Z)(j("",{notEmpty:!0}),4),p=v[0],k=v[1],N=v[2],C=(v[3],(0,g.useState)("")),y=C[0],F=C[1],E=(0,L.Z)(j("",{notEmpty:!0}),4),B=E[0],R=E[1],Z=E[2],A=(E[3],(0,g.useState)(!1)),M=A[0],D=A[1],P=(0,g.useState)(!1),_=P[0],W=P[1],V=function(){W(!1)},Y=function(){k(""),F(""),R(""),D(!1),m(!1),W(!0)},G=function(){if(N)return n("Title is required","error");if(""==y&&Z)return n("Href is required","error");var e={title:p,target:y,link:B,blank:M};u?(W(!1),n("Menu item changed","success"),c((function(n){return n[b]=e,(0,O.Z)(n)}))):(W(!1),n("New menu item added","success"),c((function(n){return(0,O.Z)(n).concat([e])})))},z=(0,g.useState)(!1),H=z[0],J=z[1],q=function(){t({title:"Save menu items",message:"Save changes to storage config?",onConfirm:function(){J(!0),a({onBegin:function(){n("Confirm transaction for save changed menu items")},onReady:function(){n("Menu items successfull saved","success"),J(!1)},onError:function(e){n("Fail save menu items","error"),J(!1)},newData:{footerMenu:o}})}})};return{render:function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b tab-menu-items",children:[(0,r.jsx)(S(),{id:"b83f427d8620324b",children:'.tab-menu-items.jsx-b83f427d8620324b{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b{width:100%;border:1px solid#fff;margin-bottom:10px;border-spacing:0px;border-right:0px;border-bottom:0px}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b THEAD.jsx-b83f427d8620324b TR.jsx-b83f427d8620324b{background:#0b469f}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b{padding:4px;border-bottom:1px solid#fff;border-right:1px solid#fff}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b{text-align:left}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TR.jsx-b83f427d8620324b{border-bottom:1px solid red}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b{vertical-align:top}.tab-menu-items.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b SELECT.jsx-b83f427d8620324b,.tab-menu-items.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b INPUT[type="text"].jsx-b83f427d8620324b{display:block;width:100%}.tab-menu-items.jsx-b83f427d8620324b TR.is-edit.jsx-b83f427d8620324b LABEL.jsx-b83f427d8620324b{display:block}.tab-menu-items.jsx-b83f427d8620324b TD.options.jsx-b83f427d8620324b{white-space:nowrap}.tab-menu-items.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b{width:100%}.tab-menu-items.jsx-b83f427d8620324b TD.jsx-b83f427d8620324b:first-child{width:30%}.tab-menu-items.jsx-b83f427d8620324b TABLE.jsx-b83f427d8620324b TBODY.jsx-b83f427d8620324b TD.empty.jsx-b83f427d8620324b{text-align:center;font-weight:bold}'}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().adminForm||""),children:[(0,r.jsxs)("table",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("thead",{className:"jsx-b83f427d8620324b",children:(0,r.jsxs)("tr",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:"Title"}),(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:"Link"}),(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:"Options"})]})}),(0,r.jsx)("tbody",{className:"jsx-b83f427d8620324b",children:o.length>0?o.map((function(e,s){var a=e.title,i=e.target,l=e.link,d=e.blank;return(0,r.jsxs)("tr",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b",children:a})}),(0,r.jsx)("td",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b",children:""==i?(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsx)(r.Fragment,{children:"[NEW TAB]\xa0"}),l,U(l,l)]}):(0,r.jsx)(r.Fragment,{children:"[".concat(i," PAGE]")})})}),(0,r.jsxs)("td",{className:"jsx-b83f427d8620324b options",children:[T({title:"Move item up",icon:"arrow-up",onClick:function(){var e;(e=s)>0&&c((function(n){var t=n[e-1];return n[e-1]=n[e],n[e]=t,(0,O.Z)(n)}))}}),T({title:"Move item down",icon:"arrow-down",onClick:function(){var e;(e=s)<o.length-1&&c((function(n){var t=n[e+1];return n[e+1]=n[e],n[e]=t,(0,O.Z)(n)}))}}),T({title:"Edit menu item",icon:"edit",onClick:function(){!function(e){var n=o[e],t=n.title,s=n.target,a=n.link,i=n.blank;h(e),k(t),F(s),R(a),D(i),m(!0),W(!0)}(s)}}),T({title:"Remove menu item",icon:"trash",onClick:function(){var e;e=s,t({title:"Removing menu item",message:"Remove this menu item?",onConfirm:function(){n("Menu item removed","success"),c((function(n){return n.splice(e,1),(0,O.Z)(n)}))}})}})]})]},s)})):(0,r.jsx)("tr",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("td",{colSpan:"3",className:"jsx-b83f427d8620324b empty",children:"No menu items"})})})]}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b "+(l().actionsRow||""),children:(0,r.jsxs)("a",{onClick:Y,className:"jsx-b83f427d8620324b "+(l().buttonWithIcon||""),children:[(0,r.jsx)(w.Z,{icon:"add"}),"Add new menu item"]})})]}),(0,r.jsx)(I,{title:u?"Edit menu item":"Add new menu item",isOpened:_,children:(0,r.jsx)("div",{className:"jsx-b83f427d8620324b "+(l().adminForm||""),children:(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().subFormInfo||""),children:[(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b",children:"Title:"}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b",children:[N&&(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b "+(l().hasError||""),children:"The field is required"})}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("input",{value:p,onChange:function(e){k(e)},type:"text",className:"jsx-b83f427d8620324b"})})]})]}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b",children:"Target:"}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsxs)("select",{value:y,onChange:function(e){F(e.target.value)},className:"jsx-b83f427d8620324b",children:[Object.keys(f.x0).map((function(e){return(0,r.jsx)("option",{value:e,className:"jsx-b83f427d8620324b",children:"[".concat(e," PAGE]")},e)})),(0,r.jsx)("option",{value:"",className:"jsx-b83f427d8620324b",children:"Custom link"})]})})]}),""==y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b",children:"Href (URL):"}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b",children:[Z&&(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("b",{className:"jsx-b83f427d8620324b "+(l().hasError||""),children:"The field is required"})}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("input",{type:"text",value:B,onChange:function(e){R(e)},className:"jsx-b83f427d8620324b"})})]})]}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().infoRow||""),children:[(0,r.jsx)("label",{className:"jsx-b83f427d8620324b"}),(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsx)("div",{className:"jsx-b83f427d8620324b",children:(0,r.jsxs)("label",{className:"jsx-b83f427d8620324b",children:[(0,r.jsx)("input",{type:"checkbox",checked:M,onChange:function(e){D(!M)},className:"jsx-b83f427d8620324b"}),(0,r.jsx)("span",{className:"jsx-b83f427d8620324b",children:"Open in new tab"})]})})})]})]}),(0,r.jsxs)("div",{className:"jsx-b83f427d8620324b "+(l().actionsRow||""),children:[(0,r.jsx)("button",{onClick:G,className:"jsx-b83f427d8620324b",children:u?"Edit":"Add"}),(0,r.jsx)("button",{onClick:V,className:"jsx-b83f427d8620324b",children:"Cancel"})]})]})})})]}),(0,r.jsx)("div",{className:l().adminFormBottom,children:(0,r.jsx)("button",{disabled:H,className:"".concat(l().mainButton," primaryButton"),onClick:q,children:H?"Saving changes...":"Save changes"})})]})}}}var G=/^0x[A-Fa-f0-9]{40}$/,z=function(e){return"string"===typeof e&&G.test(e)};function H(e){var n=(0,a.Z)({},e),t=n.type,s=n.label,i=n.value,o=n.onChange,c=n.buttons,d=n.values,u=n.placeholder,f=n.hasError,m=n.errorText,x=n.beforeDesc,b=n.afterDesc,h=n.subForm,g=t;if("address"===t)g="text";return(0,r.jsxs)("div",{className:"".concat(h?l().infoRow:l().adminFormInputHolder," ").concat(f?l().hasError:""),children:["list"===t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{children:[s,": (",i,")"]}),(0,r.jsxs)("div",{children:[f&&m&&(0,r.jsx)("span",{className:l().hasError,children:m}),x&&(0,r.jsx)("span",{className:l().adminFormBeforeDesc,children:x}),(0,r.jsx)("select",{value:i,onChange:function(e){return o(e.target.value)},children:d.map((function(e){return(0,r.jsx)("option",{value:e.id,children:e.title},e.id)}))}),b&&(0,r.jsx)("span",{className:l().adminFormAfterDesc,children:b})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{children:[s,":"]}),f&&m&&(0,r.jsx)("span",{className:l().hasError,children:m}),(0,r.jsxs)("div",{children:[x&&(0,r.jsx)("span",{className:l().adminFormBeforeDesc,children:x}),(0,r.jsx)("input",{type:g,placeholder:u||"",value:i,onChange:function(e){return o(e.target.value)}}),b&&(0,r.jsx)("span",{className:l().adminFormAfterDesc,children:b})]})]}),c&&(0,r.jsx)("div",{className:l().adminFormButtonsHolder,children:c})]})}var J=t(71931);function q(e){var n=(0,a.Z)({canEdit:!1,injectedButtons:!1,editView:function(){return null},onEdit:function(){},onSave:function(){return!0},onCancel:function(){}},e),t=n.label,i=n.value,c=n.canEdit,d=n.editView,u=n.onEdit,f=n.onSave,m=n.onCancel,x=n.injectedButtons,b=(0,g.useState)(!1),h=b[0],j=b[1],v=(0,g.useState)(!1),p=v[0],k=v[1],N=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,f();case 3:if(!e.sent){e.next=5;break}j(!1);case 5:k(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("a",{className:l().buttonWithIcon,onClick:N,children:[(0,r.jsx)(w.Z,{icon:"save"}),"Save changes"]}),(0,r.jsxs)("a",{className:l().buttonWithIcon,onClick:function(){j(!1),m()},children:[(0,r.jsx)(w.Z,{icon:"cancel"}),"Cancel"]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S(),{id:"82002f6d3b7b590d",dynamic:[(0,J.V)("images/admin-loading.svg")],children:".actions.__jsx-style-dynamic-selector{display:block;width:100%;text-align:right;padding-top:5px}.valueHolder.__jsx-style-dynamic-selector{position:relative}.loadingBg.__jsx-style-dynamic-selector{display:block;position:absolute;left:0px;top:0px;bottom:0px;right:0px;background:#1c1e21;opacity:.5}.loadingImage.__jsx-style-dynamic-selector{display:block;position:absolute;left:0px;top:0px;bottom:0px;right:0px;background:url(".concat((0,J.V)("images/admin-loading.svg"),");background-position:center;-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain;background-repeat:no-repeat}")}),(0,r.jsxs)("div",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]])+" "+(l().infoRow||""),children:[(0,r.jsxs)("label",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]]),children:[t,":"]}),(0,r.jsxs)("div",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]])+" valueHolder",children:[(0,r.jsx)("div",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]]),children:h?(0,r.jsx)(r.Fragment,{children:d(C)}):(0,r.jsxs)(r.Fragment,{children:[i,c&&(0,r.jsx)(r.Fragment,{children:T({icon:"edit",title:"Edit value",onClick:function(){j(!0),u()}})})]})}),h&&!x&&(0,r.jsx)("div",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]]),children:(0,r.jsx)("div",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]])+" actions",children:C})}),p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("em",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]])+" loadingBg"}),(0,r.jsx)("em",{className:S().dynamic([["82002f6d3b7b590d",[(0,J.V)("images/admin-loading.svg")]]])+" loadingImage"})]})]})]})]})}function K(e){var n=(0,a.Z)({buttons:null},e),t=n.labelEmpty,s=n.labelAddItem,i=n.chainId,o=n.onChange,c=n.buttons,d=(0,g.useState)((null===e||void 0===e?void 0:e.items)?(0,O.Z)(e.items):[]),u=d[0],f=d[1];(0,g.useEffect)((function(){o&&o(u)}),[u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S(),{id:"3011f9b60601f3a3",children:".adminList.jsx-3011f9b60601f3a3{width:100%}.adminList.jsx-3011f9b60601f3a3 UL.jsx-3011f9b60601f3a3{display:block;padding:0px;list-style:none;margin:0px}.adminList.jsx-3011f9b60601f3a3 UL.jsx-3011f9b60601f3a3 LI.jsx-3011f9b60601f3a3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.adminList.jsx-3011f9b60601f3a3 UL.jsx-3011f9b60601f3a3 LI.jsx-3011f9b60601f3a3 INPUT.hasError.jsx-3011f9b60601f3a3{background:#eeadad}.adminList.jsx-3011f9b60601f3a3 .actions.jsx-3011f9b60601f3a3{text-align:right;padding-top:5px}.adminList.jsx-3011f9b60601f3a3 .empty.jsx-3011f9b60601f3a3{font-weight:bold;padding:5px;text-align:center;border:1px solid#fff}"}),(0,r.jsxs)("div",{className:"jsx-3011f9b60601f3a3 adminList",children:[u.length>0?(0,r.jsx)("ul",{className:"jsx-3011f9b60601f3a3",children:u.map((function(e,n){return(0,r.jsxs)("li",{className:"jsx-3011f9b60601f3a3",children:[(0,r.jsx)("input",{type:"text",value:u[n],onChange:function(e){var t,s;t=n,s=e.target.value,u[t]=s,f((0,O.Z)(u))},className:"jsx-3011f9b60601f3a3 "+((z(u[n])?"":"hasError")||"")}),T({icon:"UpRightFromSquare",title:"Show in block explorer",href:(0,R.B2)({chainId:i,address:u[n]}),disabled:!z(u[n]),target:"_blank"}),T({icon:"remove",title:"Remove item",onClick:function(){var e;e=n,u.splice(e,1),f((0,O.Z)(u))}})]},n)}))}):(0,r.jsx)("div",{className:"jsx-3011f9b60601f3a3 empty",children:t||"List is empty"}),(0,r.jsxs)("div",{className:"jsx-3011f9b60601f3a3 actions",children:[c,(0,r.jsxs)("a",{onClick:function(){u.push(""),f((0,O.Z)(u))},className:"jsx-3011f9b60601f3a3 "+(l().buttonWithIcon||""),children:[(0,r.jsx)(w.Z,{icon:"add"}),s||"Add new item"]})]})]})]})}function $(e){var n=e.chainId,t=e.address,s=e.hash;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S(),{id:"764d5ee836cfc11d",children:"A.jsx-764d5ee836cfc11d{color:#a6c8f1}A.jsx-764d5ee836cfc11d:hover{color:#fff}span.jsx-764d5ee836cfc11d{margin-left:10px;vertical-align:middle}"}),(0,r.jsxs)("a",{href:(0,R.B2)({chainId:n,address:t,hash:s}),target:"_blank",className:"jsx-764d5ee836cfc11d",children:[t||s,(0,r.jsx)("span",{className:"jsx-764d5ee836cfc11d",children:(0,r.jsx)(w.Z,{icon:"UpRightFromSquare"})})]})]})}function X(e){var n=(0,a.Z)({chainId:0,isAddressList:!1},e),t=n.labelEmpty,s=n.items,i=n.isAddressList,o=n.chainId;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S(),{id:"49d9cc0560981f9c",children:".adminList.jsx-49d9cc0560981f9c{width:100%}.adminList.jsx-49d9cc0560981f9c UL.jsx-49d9cc0560981f9c{display:block;padding:0px;list-style:none;margin:0px}.adminList.jsx-49d9cc0560981f9c UL.jsx-49d9cc0560981f9c LI.jsx-49d9cc0560981f9c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.adminList.jsx-49d9cc0560981f9c .empty.jsx-49d9cc0560981f9c{font-weight:bold;padding:5px;text-align:center;border:1px solid#fff}"}),(0,r.jsx)("div",{className:"jsx-49d9cc0560981f9c adminList",children:s.length>0?(0,r.jsx)("ul",{className:"jsx-49d9cc0560981f9c",children:s.map((function(e,n){return(0,r.jsx)("li",{className:"jsx-49d9cc0560981f9c",children:i?(0,r.jsx)($,{address:s[n],chainId:o}):(0,r.jsx)(r.Fragment,{children:s[n]})},n)}))}):(0,r.jsx)("div",{className:"jsx-49d9cc0560981f9c empty",children:t||"List is empty"})})]})}var Q=t(30750),ee=t(44431),ne=function(e){return new Promise((function(n,t){var i=(0,a.Z)({onTrx:function(){},onSuccess:function(){},onError:function(){},onFinally:function(){}},e),r=i.activeWeb3,c=i.nftCollections,l=i.tradeFee,d=i.feeReceiver,u=i.allowedERC20,f=i.onTrx,m=i.onSuccess,x=i.onError,b=i.onFinally;r.eth.getAccounts().then(function(){var e=(0,s.Z)(o().mark((function e(n){var s,a,i,h,g,j,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=17;break}return s=n[0],a=new r.eth.Contract(Q.Mt),i={from:s,gas:"0"},h=[c,d,l,u],e.next=7,a.deploy({arguments:h,data:Q.aT.eF.Ry}).estimateGas(i);case 7:return g=e.sent,e.next=10,r.eth.getGasPrice();case 10:j=e.sent,i.gasPrice=j,v=new ee.BigNumber(new ee.BigNumber(g).multipliedBy(1.05).toFixed(0)).toString(16),i.gas="0x"+v,a.deploy({data:"0x"+Q.aT.eF.Ry,arguments:h}).send(i).on("transactionHash",(function(e){console.log("transaction hash:",e),f(e)})).on("error",(function(e){console.log("transaction error:",e),x(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),m(e.contractAddress)})).then((function(){b()})),e.next=18;break;case 17:t("NO_ACTIVE_ACCOUNT");case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(">>> deployMarketplace",e),t(e)}))}))},te=t(98765),se=t(4248),ae=t(36860);function ie(e){var n=e.openConfirmWindow,t=e.addNotify,s=e.saveStorageConfig,a=(e.saveExStorageConfig,e.storageData),i=e.getActiveChain,o=e.chainId,c=e.activeAccount,d=(0,g.useState)(""),u=(d[0],d[1]),f=(0,g.useState)(o),m=f[0],x=f[1],b=(0,g.useState)(!1),h=b[0],j=b[1],k=(0,L.Z)(v(""),3),N=(k[0],k[1],k[2],(0,g.useState)([])),w=N[0],C=N[1],y=(0,L.Z)(p(10),2),S=y[0],T=y[1],F=(0,L.Z)(v(c),2),E=F[0],B=F[1],I=(0,g.useState)([]),A=I[0],M=I[1],D=(0,g.useState)(!1),P=D[0],O=D[1],_=function(e,t){n({title:e,message:t,onConfirm:function(){},isOk:!0})},W=function(){if(!m)return _("Fill settings first","Specify chain id");if(w.filter((function(e){return!z(e)})).length)return _("Address not correct","You are specify not correct nft collection address");if(0==w.length)return _("Fill settings first","Specify NFT collection address");if(!E)return _("Fill settings first","Specify fee receiver address");if(A.filter((function(e){return!z(e)})).length)return _("Address not correct","You are specify not correct ERC20 address");var e=(0,R.T_)(m);n({title:"Deploying new MarketPlace contract",message:"Do you want deploy new MarketPlace contract atn ".concat(e.chainName," (").concat(m,")?"),onConfirm:function(){O(!0);var e=i().activeWeb3;ne({activeWeb3:e,nftCollections:w,tradeFee:S,feeReceiver:E,allowedERC20:A,onTrx:function(e){t("MarketPlace collection deploy TX ".concat(e,"..."),"success")},onSuccess:function(e){try{t("MarketPlace collection deployed. Now save settings","success"),O(!1),u(e),De(e),Ze(m),Oe(!0),Be(!0),j(!1),n({title:"Save MarketPlace contract to config",message:"Save deployed MarketPlace ".concat(e," to config?"),onConfirm:function(){s({newData:{marketplaceContract:e,marketplaceChainId:m},onBegin:function(){t("Confirm transaction for save main config"),Se(!0)},onReady:function(){t("Main config successfull saved","success"),G(e),ee(m),Be(!1),Se(!1)},onError:function(e){t("Fail save main config","error"),Se(!1)}})}})}catch(a){console.log(">>> onSuccess error",a)}},onError:function(e){t("Fail deploy MarketPlace. ".concat(e.message?e.message:""),"error"),O(!1),console.log(e)}}).catch((function(e){O(!1),t("Fail deploy MarketPlace. ".concat(e.message?e.message:""),"error")}))}})},U=function(){j(!1)};window.cleanUpMP=function(){s({newData:{marketplaceContract:"",marketplaceChainId:""},onBegin:function(){t("Confirm transaction for save main config")},onReady:function(){t("Main config successfull saved","success")},onError:function(e){t("Fail save main config","error")}})};var V=(0,g.useState)(a.marketplaceContract),Y=V[0],G=V[1],J=(0,g.useState)(a.marketplaceChainId),Q=J[0],ee=J[1],ie=(0,g.useState)(!1),oe=ie[0],re=ie[1],ce=(0,g.useState)(!1),le=ce[0],de=ce[1],ue=(0,g.useState)(!1),fe=(ue[0],ue[1],(0,g.useState)((0,se.Z)(null===oe||void 0===oe?void 0:oe.nftCollections))),me=fe[0],xe=fe[1],be=(0,L.Z)(v(null===oe||void 0===oe?void 0:oe.feeReceiver),2),he=be[0],ge=be[1],je=(0,L.Z)(p(null===tn||void 0===tn?void 0:tn.tradeFee),2),ve=je[0],pe=je[1],ke=(0,g.useState)((0,se.Z)(null===oe||void 0===oe?void 0:oe.allowedERC20)),Ne=ke[0],we=ke[1],Ce=(0,g.useState)(!1),ye=Ce[0],Se=Ce[1];(0,g.useEffect)((function(){Q&&Y&&(de(!1),(0,te.Z)({address:Y,chainId:Q}).then((function(e){console.log(">> MP info",e),re(e)})))}),[Y,Q,le]);var Te=function(e,s){return new Promise((function(a,o){n({title:"Saving MarketPlace settings",message:"Save changes to MarketPlace contract?",onConfirm:function(){var o=i(),r=o.activeChainId,c=o.activeWeb3;if(r===Q)t("Saving changes to contract. Confirm transaction"),(0,ae.Z)({activeWeb3:c,contractAddress:Y,method:e,args:s,onTrx:function(e){t("Saving changes TX ".concat(e),"success")},onSuccess:function(e){},onError:function(e){a(!1),t("Fail save changes. ".concat(e.message?e.message:""),"error")},onFinally:function(e){t("Changes successfully saved","success"),a(!0),de(!0)}});else{a(!1);var l=(0,R.T_)(Q);n({title:"Fail save MarketPlace settings",message:"Change your network to ".concat(l.chainName," (").concat(Q,")"),isOk:!0})}},onCancel:function(){a(!1)}})}))},Fe=(0,g.useState)(!1),Ee=Fe[0],Be=Fe[1],Re=(0,L.Z)(p(0),2),Ie=Re[0],Ze=Re[1],Ae=(0,L.Z)(v(""),2),Me=Ae[0],De=Ae[1],Pe=(0,g.useState)(!1),Le=Pe[0],Oe=Pe[1],_e=(0,g.useState)(!1),We=_e[0],Ue=_e[1],Ve=(0,g.useState)(!1),Ye=Ve[0],Ge=Ve[1],ze=(0,g.useState)(!1),He=ze[0],Je=ze[1],qe=(0,g.useState)(!1),Ke=qe[0];qe[1];(0,g.useEffect)((function(){Le&&(Oe(!1),$e())}),[Le]),(0,g.useEffect)((function(){Ue(!1)}),[Ie,Me]);var $e=function(){Ue(!1),Ge(!0),(0,te.Z)({address:Me,chainId:Ie,onlyInfo:!0}).then((function(e){console.log(">>> info",e),e&&e.isMPContract?(Ue(!0),Je(e)):_("Fail fetch info","Specified contract is not MarketPlace"),Ge(!1)})).catch((function(e){_("Fail fetch info","Fail fetch info. May be contract is not MarketPlace"),Ge(!1)}))},Xe=function(){return Ie?Me?z(Me)?void $e():_("Error","Specify correct contract address"):_("Error","Specify contract address"):_("Error","Specify Chain Id")},Qe=function(){n({title:"Save MarketPlace contract to config",message:"Save deployed MarketPlace ".concat(Me," to config?"),onConfirm:function(){s({newData:{marketplaceContract:Me,marketplaceChainId:Ie},onBegin:function(){t("Confirm transaction for save main config"),Se(!0)},onReady:function(){t("Main config successfull saved","success"),G(Me),ee(Ie),Be(!1),Se(!1)},onError:function(e){t("Fail save main config","error"),Se(!1)}})}})},en=function(){Be(!1)},nn=i().activeChainId,tn=((0,R.T_)(nn),(0,R.T_)(Q));return{updateState:function(e){var n=e.activeAccount,t=e.activeChainId;B(n),x(t)},setMarketChainId:x,render:function(){return(0,r.jsxs)(r.Fragment,{children:[!h&&!Ee&&!Y&&!Q&&(0,r.jsx)("div",{className:l().adminForm,children:(0,r.jsxs)("div",{className:l().adminInfoError,children:[(0,r.jsx)("span",{children:"MarketPlace contract not configured."}),(0,r.jsx)("span",{children:"Specify exist contract or deploy new"})]})}),Ee&&(0,r.jsx)("div",{className:l().adminForm,children:(0,r.jsxs)("div",{className:l().subFormInfo,children:[(0,r.jsx)("h3",{children:"Setup exists MarketPlace contract"}),H({label:"Chain ID",type:"list",values:R.zp,value:Ie,onChange:Ze,subForm:!0}),(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsx)("label",{children:"MarketPlace contract:"}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",value:Me,onChange:function(e){De(e)}})})})]}),We&&He&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{label:"Owner",value:(0,r.jsx)($,{address:He.owner,chainId:He.chainId})}),(0,r.jsx)(q,{label:"NFT Collections",value:(0,r.jsx)(X,{items:(0,se.Z)(He.nftCollections),chainId:He.chainId,isAddressList:!0})}),(0,r.jsx)(q,{label:"Trade fee",value:He.tradeFee}),(0,r.jsx)(q,{label:"Fee receiver",value:(0,r.jsx)($,{address:He.feeReceiver,chainId:He.chainId})}),(0,r.jsx)(q,{label:"Allowed ERC20",value:(0,r.jsx)(X,{items:(0,se.Z)(He.allowedERC20),chainId:He.chainId,isAddressList:!0})})]}),(0,r.jsxs)("div",{className:l().actionsRow,children:[!We&&(0,r.jsx)("button",{disabled:Ye||ye,className:l().adminButton,onClick:Xe,children:"Fetch info about contract before save"}),We&&He&&He.isMPContract&&(0,r.jsx)(Z,{chainId:"STORAGE",className:l().adminButton,disabled:Ke||ye,onClick:Qe,action:"Save contract info",children:"Save contract info"}),(0,r.jsx)("button",{disabled:Ke||Ye||ye,className:l().adminButton,onClick:en,children:"Cancel"})]})]})}),Y&&Q&&!h&&!Ee&&(0,r.jsx)("div",{className:l().adminForm,children:(0,r.jsxs)("div",{className:l().subFormInfo,children:[(0,r.jsx)("h3",{children:"Deployed MarketPlace info"}),(0,r.jsx)(q,{label:"MarketPlace Chain Id",value:(0,r.jsxs)(r.Fragment,{children:[tn.chainName," (",Q,")"]})}),(0,r.jsx)(q,{label:"MarketPlace address",value:(0,r.jsx)($,{address:Y,chainId:Q})}),oe&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{label:"Owner",value:(0,r.jsx)($,{address:oe.owner,chainId:Q})}),(0,r.jsx)(q,{label:"NFT collections",value:(0,r.jsx)(X,{items:(0,se.Z)(oe.nftCollections),isAddressList:!0,chainId:Q}),canEdit:!0,injectedButtons:!0,editView:function(e){return(0,r.jsx)(K,{items:me,onChange:function(e){xe(e)},buttons:e,chainId:Q})},onEdit:function(){xe((0,se.Z)(oe.nftCollections))},onSave:function(){return me.filter((function(e){return!z(e)})).length?(_("Error","Specify correct NFT collection address"),!1):me.length?Te("setAllowedCollections",[me]):(_("Error","Specify NFT collection address"),!1)}}),(0,r.jsx)(q,{label:"Trade fee %",value:oe.tradeFee,canEdit:!0,editView:function(){return(0,r.jsx)("input",{type:"text",value:ve,onChange:function(e){pe(e)}})},onEdit:function(){pe(oe.tradeFee)},onSave:function(){return Te("setTradeFee",[ve])}}),(0,r.jsx)(q,{label:"Fee receiver",value:(0,r.jsx)($,{address:oe.feeReceiver,chainId:Q}),canEdit:!0,editView:function(){return(0,r.jsx)("input",{type:"text",value:he,onChange:function(e){ge(e)}})},onEdit:function(){ge(oe.feeReceiver)},onSave:function(){return z(he)?Te("setFeeReceiver",[he]):(_("Error","Specify correct fee receiver address"),!1)}}),(0,r.jsx)(q,{label:"Allowed ERC20",value:(0,r.jsx)(X,{items:(0,se.Z)(oe.allowedERC20),isAddressList:!0,chainId:Q}),canEdit:!0,injectedButtons:!0,editView:function(e){return(0,r.jsx)(K,{items:Ne,onChange:function(e){we(e)},buttons:e,chainId:Q})},onEdit:function(){we((0,se.Z)(oe.allowedERC20))},onSave:function(){return Ne.filter((function(e){return!z(e)})).length?(_("Error","Specify correct ERC20 address"),!1):Te("setAllowedERC20",[Ne])}})]})]})}),h&&(0,r.jsx)("div",{className:l().adminForm,children:(0,r.jsxs)("div",{className:l().subFormInfo,children:[(0,r.jsx)("h3",{children:"Deploy new MarketPlace"}),H({label:"Chain ID",type:"list",values:R.zp,value:m,onChange:x,subForm:!0}),(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsx)("label",{children:"NFT Collections:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{className:l().inputInfo,children:"List of NFT contracts that can be allowed for trading"})}),(0,r.jsx)("div",{children:(0,r.jsx)(K,{chainId:m,items:w,onChange:function(e){C(e)}})})]})]}),(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsx)("label",{children:"Trade fee:"}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"number",min:"0",max:"30",value:S,onChange:function(e){T(e)}}),(0,r.jsx)("strong",{children:"%"})]})})]}),(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsx)("label",{children:"Fee receiver:"}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",value:E,onChange:function(e){B(e)}})})]}),(0,r.jsxs)("div",{className:l().infoRow,children:[(0,r.jsx)("label",{children:"Allowed ERC20 for trade:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{className:l().inputInfo,children:"List of token contracts that can be used for trading on par with native currency"})}),(0,r.jsx)("div",{children:(0,r.jsx)(K,{chainId:m,items:A,onChange:function(e){M(e)}})})]})]}),(0,r.jsxs)("div",{className:l().actionsRow,children:[(0,r.jsx)(Z,{chainId:m,className:l().adminButton,disabled:P,onClick:W,action:"Deploy",children:"Deploy"}),(0,r.jsx)("button",{disabled:P,className:l().adminButton,onClick:U,children:"Cancel"})]})]})}),!h&&!Ee&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:l().adminFormBottom,children:(0,r.jsx)("button",{className:l().adminButton,onClick:function(){Be(!0)},children:"Configure exist MarketPlace contract"})}),(0,r.jsx)("div",{className:l().adminFormBottom,children:(0,r.jsx)("button",{className:l().adminButton,onClick:function(){j(!0)},children:"Deploy new MarketPlace contract"})})]})]})}}}var oe=t(53419),re=t(84575),ce=t(32337),le=function(e){return new Promise((function(n,t){var a=e.activeWeb3,i=(e.onBegin,e.onReady),r=e.onError,c=e.key,l=e.data,d=(0,m.n)(),u=(d.storageRpc,d.exStorageAddress);a.eth.getAccounts().then(function(){var e=(0,s.Z)(o().mark((function e(n){var t,s,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[0],s=new a.eth.Contract(ce.Mt,u),e.prev=2,e.next=5,(0,oe.A)(t,s,"setScopeKeyData",[(0,re.Z)(),c,JSON.stringify(l)]);case 5:d=e.sent,s.methods.setScopeKeyData((0,re.Z)(),c,JSON.stringify(l)).send(d).then((function(){i&&i()})).catch((function(e){console.log(">>> error",e),r&&r(e)})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(">>> error",e.t0),r&&r(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(">>> saveExStorageData",e),r(e)}))}))},de=t(94360),ue={marketplace:"Marketplace",mainmenu:"Menu Items",footermenu:"Footer menu",texts:"Edit texts",design:"Design"},fe=(function(){var e=Object.keys(R.w5).map((function(e){return{id:R.w5[e].networkVersion,title:R.w5[e].chainName}}));e.unshift({id:0,title:"Select Blockchain"})}(),function(e){var n=(0,m.n)(),t=n.storageChainId,i=n.storageAddress,c=e.storageData,d=(e.storageIsLoading,e.isOwner),u=e.openConfirmWindow,f=e.addNotify,x=e.setDoReloadStorage,h=e.storageTexts,j=e.storageDesign,v=e.storageMenu,p=e.storageFooterMenu,k=(e.iframeHideMenu,(0,g.useState)(!1)),N=k[0],w=k[1],C=(0,g.useState)(!1),y=C[0],S=C[1],T=(0,g.useState)(!1),F=T[0],E=T[1],I=(0,g.useState)(!1),Z=I[0],A=I[1],D=function(e,n){var t=!1;try{t=e.message.replace("Internal JSON-RPC error.",""),t=JSON.parse(t)}catch(s){}switch(t&&t.message?t.message:e.message){case"execution reverted: You don't own this token!":console.log("You dont own this token");break;case"MetaMask Tx Signature: User denied transaction signature.":console.log("Transaction denied");break;case"execution reverted: ERC721: invalid token ID":console.log("Invalid token ID");break;default:console.log("Unkrnown error",e.message)}},L=function(e){console.log(">>> newActiveChainId",e),w(e)},O=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y||"".concat(N)!="".concat(t)){e.next=4;break}y.eth.getAccounts().then((function(e){E(e[0]);var n=new y.eth.Contract(de.Mt,i);console.log(">>> storageContract",n),G(n)})).catch((function(e){console.log(">>> initOnWeb3Ready",e),D(e)})),e.next=8;break;case 4:return e.next=6,(0,B.IC)();case 6:e.sent&&_();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,g.useEffect)((function(){var e;e="on useEffect activeWeb3 initOnWeb3Ready",console.log(e),O()}),[y]);var _=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,B.pE)({onBeforeConnect:function(){A(!0)},onSetActiveChain:w,onConnected:function(e,n){S(n),(0,B.uK)(L),A(!1)},onError:function(e){console.log(">>>> connectWithMetamask",e),D(e),A(!1)},needChainId:t});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=(0,g.useState)(!1),U=W[0],G=W[1],z=(0,g.useState)(!1),H=z[0],J=z[1],q=function(){var e=(0,s.Z)(o().mark((function e(n){var t,s,i,r,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,a.Z)({onBegin:function(){},onReady:function(){},onError:function(){}},n),s=t.onBegin,i=t.onReady,r=t.onError,c=t.key,l=t.data,!H){e.next=4;break}return f("Storage already saving...","error"),e.abrupt("return");case 4:J(!0),le({activeWeb3:y,key:c,data:l,onBegin:function(){s()},onReady:function(){J(!1),i()},onError:function(){J(!1),r()}});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=(0,s.Z)(o().mark((function e(n){var t,i,r,l,d,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.onBegin,i=n.onReady,r=n.onError,l=n.newData,!H){e.next=4;break}return f("Storage already saving...","error"),e.abrupt("return");case 4:d=(0,a.Z)({},c,l),console.log(">> save data",d),u=function(){var e=(0,s.Z)(o().mark((function e(){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F||!U){e.next=19;break}return f("Saving config to storage. Confirm transaction"),J(!0),t&&t(),n=d,e.prev=5,e.next=8,(0,oe.A)(F,U,"setKeyData",[(0,re.Z)(),{owner:F,info:JSON.stringify(n)}]);case 8:s=e.sent,U.methods.setKeyData((0,re.Z)(),{owner:F,info:JSON.stringify(n)}).send(s).then((function(){J(!1),i&&i()})).catch((function(e){console.log(">>> error",e),J(!1),r&&r(e)})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(">>> error",e.t0),J(!1),r&&r(e.t0);case 17:e.next=20;break;case 19:f("Fail save storage. No active wallet or contract not ready yet","error");case 20:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),u();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=c&&!c.isInstalled,X=(0,g.useState)(!$),Q=X[0],ee=X[1],ne=(0,g.useState)(!1),te=ne[0],se=ne[1],ae=(0,g.useState)("marketplace"),ce=ae[0],fe=ae[1],me={setDoReloadStorage:x,saveStorageConfig:K,saveExStorageConfig:q,openConfirmWindow:u,addNotify:f,getActiveChain:function(){return{activeChainId:N,activeWeb3:y}},storageDesign:j,storageTexts:h,storageData:c,activeAccount:F,storageMenu:v,storageFooterMenu:p},xe=new M(me),be=new P(me),he=new V(me),ge=new Y(me),je=new ie(me),ve=function(){var e=(0,R.T_)(N),n=(0,R.T_)(t);return(0,r.jsxs)("div",{className:l().adminActiveChainInfo,children:[(0,r.jsxs)("span",{children:["Current active network is ",(0,r.jsxs)("b",{children:[(null===e||void 0===e?void 0:e.chainName)||"Unknown"," (",N,")"]})]}),(0,r.jsxs)("span",{children:["Main config storage network is ",(0,r.jsxs)("b",{children:[(null===n||void 0===n?void 0:n.chainName)||"Unknown"," (",t,")"]})]})]})};return Q&&($=!1),(0,r.jsxs)("div",{className:l().container,children:[b("settings",v,!0),(0,r.jsx)("h1",{className:l().h1,children:"Settings"}),null!==c&&(0,r.jsx)(r.Fragment,{children:$?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"NFTs Marketplace need setup on this domain"}),F?(0,r.jsxs)(r.Fragment,{children:[ve(),(0,r.jsx)("button",{disabled:te,className:"".concat(l().mainButton," ").concat(l().autoWidth," primaryButton"),onClick:function(){K({onBegin:function(){se(!0),f("Confirm transaction for setup NFTs Marketplace on this domain")},onReady:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se(!1),ee(!0),f("NFTs Marketplace successfull installed on this domain. Now you can configure farm","success"),x(!0);case 4:case"end":return e.stop()}}),e)}))),onError:function(e){se(!1),f("Fail setup NFTs Marketplace on domain","error")},newData:{isInstalled:!0}})},children:te?"Setup on domain...":"Setup NFTs Marketplace on this domain"})]}):(0,r.jsx)("button",{disabled:Z,className:"".concat(l().mainButton," primaryButton"),onClick:_,children:Z?"Connecting":"Connect Wallet"})]}):(0,r.jsx)(r.Fragment,{children:F?(0,r.jsx)(r.Fragment,{children:d?(0,r.jsxs)(r.Fragment,{children:[ve(),(0,r.jsx)("ul",{className:l().settingsTabsNav,children:Object.keys(ue).map((function(e){return(0,r.jsx)("li",{onClick:function(){fe(e)},className:e===ce?l().activeTab:"",children:ue[e]},e)}))}),(0,r.jsx)("hr",{className:"".concat(l().divider," ").concat(l().spacerTop)}),"mainmenu"===ce&&he.render(),"footermenu"===ce&&ge.render(),"marketplace"===ce&&je.render(),"texts"===ce&&be.render(),"design"===ce&&xe.render()]}):(0,r.jsx)("h2",{children:"Access denied"})}):(0,r.jsx)("button",{disabled:Z,className:"".concat(l().mainButton," primaryButton"),onClick:_,children:Z?"Connecting":"Connect Wallet"})})})]})})}},function(e){e.O(0,[976,697,861,484,100,774,888,179],(function(){return n=52837,e(e.s=n);var n}));var n=e.O();_N_E=n}]);